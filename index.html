<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>LinguaParrot</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        :root {
            --tg-bg: var(--tg-theme-bg-color, #F8F9FA);
            --tg-text: var(--tg-theme-text-color, #2C3E50);
            --tg-hint: var(--tg-theme-hint-color, #7F8C8D);
            --tg-link: var(--tg-theme-link-color, #2D7A5F);
            --tg-button: var(--tg-theme-button-color, #2D7A5F);
            --tg-button-text: var(--tg-theme-button-text-color, #FFFFFF);
            --primary: #2D7A5F;
            --primary-light: #3D9A7A;
            --accent: #F4A261;
            --success: #27AE60;
            --error: #E74C3C;
            --shadow: 0 4px 20px rgba(0,0,0,0.08);
        }
        
        body { 
            font-family: 'Nunito', -apple-system, BlinkMacSystemFont, sans-serif; 
            background: var(--tg-bg); 
            color: var(--tg-text); 
            min-height: 100vh;
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
        }
        
        .app-container { max-width: 430px; margin: 0 auto; min-height: 100vh; position: relative; padding: 16px; }
        
        /* TG Header */
        .tg-header {
            position: sticky;
            top: 0;
            background: var(--tg-bg);
            z-index: 100;
            padding: 8px 0 16px;
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }
        
        .tg-header-title {
            font-size: 24px;
            font-weight: 800;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .tg-close-btn {
            position: absolute;
            top: 8px;
            right: 0;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--tg-hint);
        }
        
        /* Main Button (TG style) */
        .tg-main-btn {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--tg-button);
            color: var(--tg-button-text);
            border: none;
            padding: 16px 24px 32px;
            font-size: 17px;
            font-weight: 700;
            cursor: pointer;
            z-index: 1000;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }
        
        .tg-main-btn.show {
            transform: translateY(0);
        }
        
        /* Cards */
        .card {
            background: var(--tg-theme-secondary-bg-color, #FFFFFF);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 16px;
            box-shadow: var(--shadow);
        }
        
        /* Daily Goal */
        .daily-goal {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            border-radius: 20px;
            padding: 24px;
            color: white;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
        }
        
        .goal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; }
        .goal-title { font-size: 17px; font-weight: 700; opacity: 0.9; }
        .goal-time { font-size: 28px; font-weight: 800; }
        .progress-bar { height: 6px; background: rgba(255,255,255,0.3); border-radius: 3px; overflow: hidden; }
        .progress-fill { height: 100%; background: white; border-radius: 3px; transition: width 0.5s ease; width: 0%; }
        
        /* Mode Toggle */
        .mode-toggle {
            display: flex;
            background: var(--tg-theme-secondary-bg-color, #FFFFFF);
            border-radius: 12px;
            padding: 4px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
        }
        
        .mode-btn {
            flex: 1;
            padding: 12px;
            border: none;
            background: transparent;
            border-radius: 10px;
            font-family: inherit;
            font-weight: 700;
            font-size: 14px;
            cursor: pointer;
            color: var(--tg-hint);
            transition: all 0.2s ease;
        }
        
        .mode-btn.active {
            background: var(--primary);
            color: white;
        }
        
        /* AI Tutor */
        .tutor-card {
            display: flex;
            align-items: center;
            gap: 16px;
            cursor: pointer;
            transition: transform 0.2s ease;
        }
        
        .tutor-card:active { transform: scale(0.98); }
        
        .tutor-avatar {
            width: 56px;
            height: 56px;
            background: linear-gradient(135deg, var(--accent) 0%, #F4D35E 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            position: relative;
            flex-shrink: 0;
        }
        
        .tutor-avatar::after {
            content: '';
            position: absolute;
            bottom: 2px;
            right: 2px;
            width: 12px;
            height: 12px;
            background: var(--success);
            border: 2px solid white;
            border-radius: 50%;
        }
        
        .tutor-info { flex: 1; }
        .tutor-name { font-size: 17px; font-weight: 700; margin-bottom: 4px; }
        .tutor-status { font-size: 14px; color: var(--tg-hint); display: flex; align-items: center; gap: 6px; }
        .pulse { animation: pulse 2s infinite; color: var(--success); }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        
        .arrow { color: var(--tg-hint); font-size: 20px; }
        
        /* Stats Grid */
        .stats-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 20px; }
        .stat-card { text-align: center; padding: 20px 16px; }
        .stat-value { font-size: 32px; font-weight: 800; color: var(--primary); margin-bottom: 4px; }
        .stat-label { font-size: 13px; color: var(--tg-hint); font-weight: 600; }
        
        /* Lessons */
        .section-title { font-size: 17px; font-weight: 700; margin-bottom: 12px; margin-top: 8px; }
        
        .lesson-item {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 16px;
            background: var(--tg-theme-secondary-bg-color, #FFFFFF);
            border-radius: 12px;
            margin-bottom: 12px;
            cursor: pointer;
            box-shadow: var(--shadow);
            transition: all 0.2s ease;
        }
        
        .lesson-item:active { transform: scale(0.98); }
        
        .lesson-icon {
            width: 48px;
            height: 48px;
            background: rgba(45, 122, 95, 0.1);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            flex-shrink: 0;
        }
        
        .lesson-info { flex: 1; }
        .lesson-title { font-weight: 700; font-size: 16px; margin-bottom: 4px; }
        .lesson-meta { font-size: 13px; color: var(--tg-hint); }
        
        /* Lesson Screen */
        .lesson-screen {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--tg-bg);
            z-index: 100;
            overflow-y: auto;
            animation: slideUp 0.3s ease;
        }
        
        .lesson-screen.active { display: block; }
        @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
        
        .lesson-header {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            background: var(--tg-bg);
            position: sticky;
            top: 0;
            z-index: 10;
        }
        
        .back-btn {
            width: 36px;
            height: 36px;
            border: none;
            background: var(--tg-theme-secondary-bg-color, #F0F0F0);
            border-radius: 50%;
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .progress-dots { display: flex; gap: 6px; flex: 1; justify-content: center; }
        .dot { width: 6px; height: 6px; border-radius: 50%; background: var(--tg-hint); opacity: 0.3; transition: all 0.3s ease; }
        .dot.active { background: var(--primary); opacity: 1; width: 20px; border-radius: 3px; }
        .dot.completed { background: var(--success); opacity: 1; }
        
        /* Flashcard */
        .flashcard-container { padding: 20px 16px 100px; }
        
        .flashcard {
            background: var(--tg-theme-secondary-bg-color, #FFFFFF);
            border-radius: 20px;
            padding: 40px 24px;
            text-align: center;
            min-height: 320px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: var(--shadow);
            margin-bottom: 20px;
        }
        
        .flashcard.flipped { background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%); color: white; }
        
        .flashcard-word { font-size: 32px; font-weight: 800; margin-bottom: 16px; }
        .flashcard-trans { font-size: 15px; opacity: 0.6; margin-bottom: 8px; font-family: monospace; }
        .flashcard-rus-trans { font-size: 16px; color: var(--accent); margin-bottom: 20px; font-weight: 600; display: none; }
        .flashcard.flipped .flashcard-rus-trans { color: rgba(255,255,255,0.9); display: block; }
        .flashcard-meaning { font-size: 24px; font-weight: 700; opacity: 0; transform: translateY(20px); transition: all 0.3s ease; }
        .flashcard.flipped .flashcard-meaning { opacity: 1; transform: translateY(0); }
        
        .flip-hint {
            position: absolute;
            bottom: 16px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 13px;
            opacity: 0.5;
            background: rgba(0,0,0,0.05);
            padding: 6px 14px;
            border-radius: 20px;
        }
        
        /* Detail Card */
        .detail-card {
            background: rgba(45, 122, 95, 0.08);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 4px solid var(--primary);
            display: none;
        }
        
        .detail-card.show { display: block; animation: fadeIn 0.4s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .detail-title { font-size: 13px; font-weight: 800; color: var(--primary); text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 12px; }
        .detail-example { font-size: 16px; font-style: italic; margin-bottom: 8px; padding: 16px; background: var(--tg-theme-secondary-bg-color, #FFFFFF); border-radius: 12px; }
        .detail-translation { font-size: 14px; color: var(--tg-hint); padding-left: 12px; border-left: 3px solid var(--accent); }
        
        /* Transcription Toggle */
        .trans-toggle {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 16px;
            background: var(--tg-theme-secondary-bg-color, #FFFFFF);
            border-radius: 12px;
            margin-bottom: 16px;
            font-size: 15px;
            font-weight: 600;
        }
        
        .toggle-switch {
            width: 50px;
            height: 28px;
            background: var(--tg-hint);
            border-radius: 14px;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            opacity: 0.3;
        }
        
        .toggle-switch.active { background: var(--primary); opacity: 1; }
        .toggle-switch::after {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 24px;
            height: 24px;
            background: white;
            border-radius: 50%;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        .toggle-switch.active::after { left: 26px; }
        
        /* Result Screen */
        .result-screen {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--tg-bg);
            z-index: 200;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 40px 24px;
            text-align: center;
        }
        
        .result-screen.active { display: flex; }
        .result-emoji { font-size: 80px; margin-bottom: 20px; }
        .result-title { font-size: 28px; font-weight: 800; margin-bottom: 8px; }
        .result-subtitle { color: var(--tg-hint); margin-bottom: 32px; }
        
        .result-stats {
            background: var(--tg-theme-secondary-bg-color, #FFFFFF);
            border-radius: 16px;
            padding: 24px;
            width: 100%;
            max-width: 400px;
            margin-bottom: 24px;
        }
        
        .result-row { display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid rgba(0,0,0,0.05); font-size: 16px; }
        .result-row:last-child { border-bottom: none; }
        .result-value { font-weight: 800; color: var(--primary); }
        .result-value.xp { color: var(--accent); }
        
        /* Haptic feedback */
        .haptic:active { opacity: 0.7; }
    </style>
</head>
<body>
    <div class="app-container" id="app">
        <!-- Main Screen -->
        <div class="screen active" id="mainScreen">
            <div class="tg-header">
                <div class="tg-header-title">ü¶ú LinguaParrot</div>
                <button class="tg-close-btn" onclick="tg.close()">‚úï</button>
            </div>
            
            <div class="daily-goal">
                <div class="goal-header">
                    <div>
                        <div class="goal-title">–¶–µ–ª—å –¥–Ω—è</div>
                        <div class="goal-time"><span id="dailyProgress">0</span>/15 –º–∏–Ω</div>
                    </div>
                    <div style="font-size: 40px;">üî•</div>
                </div>
                <div class="progress-bar"><div class="progress-fill" id="progressBar"></div></div>
            </div>
            
            <div class="mode-toggle">
                <button class="mode-btn active" onclick="setMode(this, 'calm')">üåø –°–ø–æ–∫–æ–π–Ω—ã–π</button>
                <button class="mode-btn" onclick="setMode(this, 'strict')">üìö –°—Ç—Ä–æ–≥–∏–π</button>
            </div>
            
            <div class="card tutor-card haptic" onclick="openChat()">
                <div class="tutor-avatar">ü¶ú</div>
                <div class="tutor-info">
                    <div class="tutor-name">–ü–æ–ø—É–≥–∞–π-—Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä</div>
                    <div class="tutor-status"><span class="pulse">‚óè</span> –û–Ω–ª–∞–π–Ω ‚Ä¢ –ù–∞–∂–º–∏ —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å</div>
                </div>
                <div class="arrow">‚Ä∫</div>
            </div>
            
            <div class="stats-grid">
                <div class="card stat-card">
                    <div class="stat-value" id="wordsCount">248</div>
                    <div class="stat-label">–°–ª–æ–≤ –∏–∑—É—á–µ–Ω–æ</div>
                </div>
                <div class="card stat-card">
                    <div class="stat-value" id="streakCount">12</div>
                    <div class="stat-label">–î–Ω–µ–π –ø–æ–¥—Ä—è–¥</div>
                </div>
            </div>
            
            <div class="section-title">–£—Ä–æ–∫–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è</div>
            
            <div class="lesson-item haptic" onclick="startLesson()">
                <div class="lesson-icon">üìñ</div>
                <div class="lesson-info">
                    <div class="lesson-title">–°–ª–æ–≤–∞—Ä–Ω—ã–π –∑–∞–ø–∞—Å</div>
                    <div class="lesson-meta">5 —Å–ª–æ–≤ ‚Ä¢ ~5 –º–∏–Ω—É—Ç</div>
                </div>
                <div class="arrow">‚Ä∫</div>
            </div>
            
            <div class="lesson-item haptic" onclick="startLesson()">
                <div class="lesson-icon">üìù</div>
                <div class="lesson-info">
                    <div class="lesson-title">–ì—Ä–∞–º–º–∞—Ç–∏–∫–∞</div>
                    <div class="lesson-meta">Present Perfect ‚Ä¢ ~5 –º–∏–Ω—É—Ç</div>
                </div>
                <div class="arrow">‚Ä∫</div>
            </div>
            
            <div class="lesson-item haptic" onclick="startLesson()">
                <div class="lesson-icon">üó£Ô∏è</div>
                <div class="lesson-info">
                    <div class="lesson-title">–†–∞–∑–≥–æ–≤–æ—Ä–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞</div>
                    <div class="lesson-meta">AI-–¥–∏–∞–ª–æ–≥ ‚Ä¢ ~5 –º–∏–Ω—É—Ç</div>
                </div>
                <div class="arrow">‚Ä∫</div>
            </div>
        </div>
        
        <!-- Lesson Screen -->
        <div class="lesson-screen" id="lessonScreen">
            <div class="lesson-header">
                <button class="back-btn haptic" onclick="closeLesson()">‚Üê</button>
                <div class="progress-dots">
                    <div class="dot active"></div>
                    <div class="dot"></div>
                    <div class="dot"></div>
                    <div class="dot"></div>
                    <div class="dot"></div>
                </div>
                <div style="width: 36px;"></div>
            </div>
            
            <div class="flashcard-container">
                <div class="trans-toggle">
                    <span>üî§ –†—É—Å—Å–∫–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è</span>
                    <div class="toggle-switch" id="transToggle" onclick="toggleTrans()"></div>
                </div>
                
                <div class="flashcard" id="flashcard" onclick="flipCard()">
                    <div class="flashcard-word" id="cardWord">Serendipity</div>
                    <div class="flashcard-trans" id="cardTrans">/Àåser.…ônÀàd…™p.…ô.ti/</div>
                    <div class="flashcard-rus-trans" id="cardRusTrans">[—Å—ç-—Ä—ç–Ω-–¥–∏-–ø–∏-—Ç–∏]</div>
                    <div class="flashcard-meaning" id="cardMeaning">–°—á–∞—Å—Ç–ª–∏–≤–∞—è —Å–ª—É—á–∞–π–Ω–æ—Å—Ç—å</div>
                    <div class="flip-hint">–ù–∞–∂–º–∏, —á—Ç–æ–±—ã –ø–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç—å</div>
                </div>
                
                <div class="detail-card" id="detailCard">
                    <div class="detail-title">üí° –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</div>
                    <div class="detail-example" id="detailExample">"Meeting her was pure serendipity."</div>
                    <div class="detail-translation" id="detailTranslation">"–í—Å—Ç—Ä–µ—á–∞ —Å –Ω–µ–π –±—ã–ª–∞ —á–∏—Å—Ç–æ–π —Å–ª—É—á–∞–π–Ω–æ—Å—Ç—å—é"</div>
                </div>
            </div>
        </div>
        
        <!-- Result Screen -->
        <div class="result-screen" id="resultScreen">
            <div class="result-emoji">üéâ</div>
            <div class="result-title">–û—Ç–ª–∏—á–Ω–æ!</div>
            <div class="result-subtitle">–£—Ä–æ–∫ –∑–∞–≤–µ—Ä—à—ë–Ω</div>
            
            <div class="result-stats">
                <div class="result-row">
                    <span>–ò–∑—É—á–µ–Ω–æ —Å–ª–æ–≤</span>
                    <span class="result-value">5</span>
                </div>
                <div class="result-row">
                    <span>–í—Ä–µ–º—è</span>
                    <span class="result-value" id="timeValue">4:32</span>
                </div>
                <div class="result-row">
                    <span>–û–ø—ã—Ç</span>
                    <span class="result-value xp">+50 XP</span>
                </div>
            </div>
            
            <button class="tg-main-btn show" onclick="finishLesson()">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –æ–±—É—á–µ–Ω–∏–µ</button>
        </div>
    </div>

    <script>
        // Telegram WebApp init
        const tg = window.Telegram.WebApp;
        tg.ready();
        tg.expand();
// Load saved progress
loadProgress();

        
        // Data
        const words = [
    // BEGINNER (10 —Å–ª–æ–≤)
    { word: 'Hello', trans: '/h…ôÀàlo ä/', rus: '[—Ö—ç-–ª–æ—É]', meaning: '–ü—Ä–∏–≤–µ—Ç', example: '"Hello, how are you?"', exampleRu: '"–ü—Ä–∏–≤–µ—Ç, –∫–∞–∫ –¥–µ–ª–∞?"' },
    { word: 'Thank you', trans: '/ÀàŒ∏√¶≈ãk juÀê/', rus: '[—Å—ç–Ω–∫ —é]', meaning: '–°–ø–∞—Å–∏–±–æ', example: '"Thank you very much!"', exampleRu: '"–ë–æ–ª—å—à–æ–µ —Å–ø–∞—Å–∏–±–æ!"' },
    { word: 'Please', trans: '/pliÀêz/', rus: '[–ø–ª–∏–∏–∑]', meaning: '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞', example: '"Could you help me, please?"', exampleRu: '"–ù–µ –º–æ–≥–ª–∏ –±—ã –≤—ã –º–Ω–µ –ø–æ–º–æ—á—å, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞?"' },
    { word: 'Sorry', trans: '/Ààs…îÀêri/', rus: '[—Å–æ-—Ä–∏]', meaning: '–ò–∑–≤–∏–Ω–∏—Ç–µ', example: '"I am sorry for being late."', exampleRu: '"–ò–∑–≤–∏–Ω–∏—Ç–µ, —á—Ç–æ –æ–ø–æ–∑–¥–∞–ª."' },
    { word: 'Goodbye', trans: '/Àå…° ädÀàba…™/', rus: '[–≥—É–¥-–±–∞–π]', meaning: '–î–æ —Å–≤–∏–¥–∞–Ω–∏—è', example: '"Goodbye! See you tomorrow!"', exampleRu: '"–î–æ —Å–≤–∏–¥–∞–Ω–∏—è! –£–≤–∏–¥–∏–º—Å—è –∑–∞–≤—Ç—Ä–∞!"' },
    { word: 'Love', trans: '/l åv/', rus: '[–ª–∞–≤]', meaning: '–õ—é–±–æ–≤—å', example: '"I love this song!"', exampleRu: '"–Ø –ª—é–±–ª—é —ç—Ç—É –ø–µ—Å–Ω—é!"' },
    { word: 'Friend', trans: '/frend/', rus: '[—Ñ—Ä—ç–Ω–¥]', meaning: '–î—Ä—É–≥', example: '"He is my best friend."', exampleRu: '"–û–Ω –º–æ–π –ª—É—á—à–∏–π –¥—Ä—É–≥."' },
    { word: 'Family', trans: '/Ààf√¶m…ôli/', rus: '[—Ñ—ç-–º–∏-–ª–∏]', meaning: '–°–µ–º—å—è', example: '"Family is very important to me."', exampleRu: '"–°–µ–º—å—è –æ—á–µ–Ω—å –≤–∞–∂–Ω–∞ –¥–ª—è –º–µ–Ω—è."' },
    { word: 'Happy', trans: '/Ààh√¶pi/', rus: '[—Ö—ç-–ø–∏]', meaning: '–°—á–∞—Å—Ç–ª–∏–≤—ã–π', example: '"I am so happy today!"', exampleRu: '"–Ø —Ç–∞–∫ —Å—á–∞—Å—Ç–ª–∏–≤ —Å–µ–≥–æ–¥–Ω—è!"' },
    { word: 'Beautiful', trans: '/ÀàbjuÀêt…™fl/', rus: '[–±—å—é-—Ç–∏-—Ñ–ª]', meaning: '–ö—Ä–∞—Å–∏–≤—ã–π', example: '"What a beautiful day!"', exampleRu: '"–ö–∞–∫–æ–π –∫—Ä–∞—Å–∏–≤—ã–π –¥–µ–Ω—å!"' },
    
    // ELEMENTARY (10 —Å–ª–æ–≤)
    { word: 'Adventure', trans: '/…ôdÀàvent É…ôr/', rus: '[—ç–¥-–≤—ç–Ω-—á—ç—Ä]', meaning: '–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ', example: '"Life is either a daring adventure or nothing."', exampleRu: '"–ñ–∏–∑–Ω—å ‚Äî —ç—Ç–æ –ª–∏–±–æ –æ—Ç–≤–∞–∂–Ω–æ–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ, –ª–∏–±–æ –Ω–∏—á—Ç–æ."' },
    { word: 'Dream', trans: '/driÀêm/', rus: '[–¥—Ä–∏–º]', meaning: '–ú–µ—á—Ç–∞', example: '"Never give up on your dreams."', exampleRu: '"–ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Å–¥–∞–≤–∞–π—Å—è –∏ –Ω–µ –æ—Ç–∫–∞–∑—ã–≤–∞–π—Å—è –æ—Ç —Å–≤–æ–∏—Ö –º–µ—á—Ç."' },
    { word: 'Journey', trans: '/Ààd í…úÀêrni/', rus: '[–¥–∂—ë-–Ω–∏]', meaning: '–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ', example: '"Life is a journey, not a destination."', exampleRu: '"–ñ–∏–∑–Ω—å ‚Äî —ç—Ç–æ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ, –∞ –Ω–µ –ø—É–Ω–∫—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è."' },
    { word: 'Smile', trans: '/sma…™l/', rus: '[—Å–º–∞–π–ª]', meaning: '–£–ª—ã–±–∫–∞', example: '"Your smile brightens my day."', exampleRu: '"–¢–≤–æ—è —É–ª—ã–±–∫–∞ –æ—Å–≤–µ—â–∞–µ—Ç –º–æ–π –¥–µ–Ω—å."' },
    { word: 'Sunshine', trans: '/Ààs ån Éa…™n/', rus: '[—Å–∞–Ω-—à–∞–π–Ω]', meaning: '–°–æ–ª–Ω–µ—á–Ω—ã–π —Å–≤–µ—Ç', example: '"You are my sunshine!"', exampleRu: '"–¢—ã –º–æ—ë —Å–æ–ª–Ω—ã—à–∫–æ!"' },
    { word: 'Wonderful', trans: '/Ààw ånd…ôrfl/', rus: '[–≤–∞–Ω-–¥—ç-—Ñ–ª]', meaning: '–ß—É–¥–µ—Å–Ω—ã–π', example: '"We had a wonderful time!"', exampleRu: '"–ú—ã –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ –ø—Ä–æ–≤–µ–ª–∏ –≤—Ä–µ–º—è!"' },
    { word: 'Believe', trans: '/b…™ÀàliÀêv/', rus: '[–±–∏-–ª–∏–≤]', meaning: '–í–µ—Ä–∏—Ç—å', example: '"Believe in yourself!"', exampleRu: '"–í–µ—Ä—å –≤ —Å–µ–±—è!"' },
    { word: 'Freedom', trans: '/ÀàfriÀêd…ôm/', rus: '[—Ñ—Ä–∏-–¥—ç–º]', meaning: '–°–≤–æ–±–æ–¥–∞', example: '"Freedom is not worth having if it does not include the freedom to make mistakes."', exampleRu: '"–°–≤–æ–±–æ–¥–∞ –Ω–µ —Å—Ç–æ–∏—Ç —Ç–æ–≥–æ, —á—Ç–æ–±—ã –µ—ë –∏–º–µ—Ç—å, –µ—Å–ª–∏ –æ–Ω–∞ –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç —Å–≤–æ–±–æ–¥—É —Å–æ–≤–µ—Ä—à–∞—Ç—å –æ—à–∏–±–∫–∏."' },
    { word: 'Knowledge', trans: '/Ààn…íl…™d í/', rus: '[–Ω–æ-–ª–∏–¥–∂]', meaning: '–ó–Ω–∞–Ω–∏–µ', example: '"Knowledge is power."', exampleRu: '"–ó–Ω–∞–Ω–∏–µ ‚Äî —Å–∏–ª–∞."' },
    { word: 'Wisdom', trans: '/Ààw…™zd…ôm/', rus: '[–≤–∏–∑-–¥—ç–º]', meaning: '–ú—É–¥—Ä–æ—Å—Ç—å', example: '"With age comes wisdom."', exampleRu: '"–° –≤–æ–∑—Ä–∞—Å—Ç–æ–º –ø—Ä–∏—Ö–æ–¥–∏—Ç –º—É–¥—Ä–æ—Å—Ç—å."' },
    
    // INTERMEDIATE (15 —Å–ª–æ–≤)
    { word: 'Serendipity', trans: '/Àåser.…ônÀàd…™p.…ô.ti/', rus: '[—Å—ç-—Ä—ç–Ω-–¥–∏-–ø–∏-—Ç–∏]', meaning: '–°—á–∞—Å—Ç–ª–∏–≤–∞—è —Å–ª—É—á–∞–π–Ω–æ—Å—Ç—å', example: '"Meeting her was pure serendipity."', exampleRu: '"–í—Å—Ç—Ä–µ—á–∞ —Å –Ω–µ–π –±—ã–ª–∞ —á–∏—Å—Ç–æ–π —Å–ª—É—á–∞–π–Ω–æ—Å—Ç—å—é."' },
    { word: 'Ephemeral', trans: '/…™Ààfem.…ôr.…ôl/', rus: '[–∏-—Ñ—ç-–º—ç-—Ä–ª]', meaning: '–ú–∏–º–æ–ª—ë—Ç–Ω—ã–π', example: '"Fame in the internet age is ephemeral."', exampleRu: '"–°–ª–∞–≤–∞ –≤ —ç–ø–æ—Ö—É –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –º–∏–º–æ–ª—ë—Ç–Ω–∞."' },
    { word: 'Resilience', trans: '/r…™Ààz…™l.j…ôns/', rus: '[—Ä–∏-–∑–∏-–ª–π—ç–Ω—Å]', meaning: '–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å', example: '"Her resilience helped her overcome all difficulties."', exampleRu: '"–ï—ë –∂–∏–∑–Ω–µ—Å—Ç–æ–π–∫–æ—Å—Ç—å –ø–æ–º–æ–≥–ª–∞ –ø—Ä–µ–æ–¥–æ–ª–µ—Ç—å —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏."' },
    { word: 'Eloquent', trans: '/Ààel.…ô.kw…ônt/', rus: '[—ç-–ª—ç-–∫–≤—ç–Ω—Ç]', meaning: '–ö—Ä–∞—Å–Ω–æ—Ä–µ—á–∏–≤—ã–π', example: '"He gave an eloquent speech about freedom."', exampleRu: '"–û–Ω –ø—Ä–æ–∏–∑–Ω—ë—Å –∫—Ä–∞—Å–Ω–æ—Ä–µ—á–∏–≤—É—é —Ä–µ—á—å –æ —Å–≤–æ–±–æ–¥–µ."' },
    { word: 'Mellifluous', trans: '/meÀàl…™f.lu.…ôs/', rus: '[–º—ç-–ª–∏-—Ñ–ª—É-—ç—Å]', meaning: '–ú–µ–¥–æ–≤—ã–π, –ø–ª–∞–≤–Ω—ã–π', example: '"She had a rich, mellifluous voice."', exampleRu: '"–£ –Ω–µ—ë –±—ã–ª –±–æ–≥–∞—Ç—ã–π, –ø–ª–∞–≤–Ω—ã–π –≥–æ–ª–æ—Å."' },
    { word: 'Petrichor', trans: '/Ààpet.r…™.k…îÀêr/', rus: '[–ø—ç-—Ç—Ä–∏-–∫–æ—Ä]', meaning: '–ó–∞–ø–∞—Ö –¥–æ–∂–¥—è', example: '"I love the petrichor after summer rain."', exampleRu: '"–Ø –ª—é–±–ª—é –∑–∞–ø–∞—Ö –¥–æ–∂–¥—è –ø–æ—Å–ª–µ –ª–µ—Ç–Ω–µ–≥–æ –ª–∏–≤–Ω—è."' },
    { word: 'Luminous', trans: '/ÀàluÀê.m…™.n…ôs/', rus: '[–ª—É-–º–∏-–Ω—ç—Å]', meaning: '–°–≤–µ—Ç—è—â–∏–π—Å—è', example: '"The room was filled with luminous colors."', exampleRu: '"–ö–æ–º–Ω–∞—Ç–∞ –±—ã–ª–∞ –Ω–∞–ø–æ–ª–Ω–µ–Ω–∞ —Å–≤–µ—Ç—è—â–∏–º–∏—Å—è –∫—Ä–∞—Å–∫–∞–º–∏."' },
    { word: 'Solitude', trans: '/Ààs…íl.…™.tjuÀêd/', rus: '[—Å–æ-–ª–∏-—Ç—å—é–¥]', meaning: '–£–µ–¥–∏–Ω–µ–Ω–∏–µ', example: '"He enjoyed the peace and solitude of the woods."', exampleRu: '"–û–Ω –Ω–∞—Å–ª–∞–∂–¥–∞–ª—Å—è –ø–æ–∫–æ–µ–º –∏ —É–µ–¥–∏–Ω–µ–Ω–∏–µ–º –ª–µ—Å–∞."' },
    { word: 'Euphoria', trans: '/juÀêÀàf…îÀê.ri.…ô/', rus: '[—é-—Ñ–æ-—Ä–∏-—ç]', meaning: '–≠–π—Ñ–æ—Ä–∏—è', example: '"There was a sense of euphoria after the victory."', exampleRu: '"–ü–æ—Å–ª–µ –ø–æ–±–µ–¥—ã –±—ã–ª–æ —á—É–≤—Å—Ç–≤–æ —ç–π—Ñ–æ—Ä–∏–∏."' },
    { word: 'Melancholy', trans: '/Ààmel.…ôn.k…íl.i/', rus: '[–º—ç-–ª–∞–Ω-–∫–æ-–ª–∏]', meaning: '–ú–µ–ª–∞–Ω—Ö–æ–ª–∏—è', example: '"A deep melancholy settled over the city."', exampleRu: '"–ì–ª—É–±–æ–∫–∞—è –º–µ–ª–∞–Ω—Ö–æ–ª–∏—è –æ—Ö–≤–∞—Ç–∏–ª–∞ –≥–æ—Ä–æ–¥."' },
    { word: 'Serene', trans: '/s…ôÀàriÀên/', rus: '[—Å—ç-—Ä–∏–Ω]', meaning: '–ë–µ–∑–º—è—Ç–µ–∂–Ω—ã–π', example: '"The lake was calm and serene."', exampleRu: '"–û–∑–µ—Ä–æ –±—ã–ª–æ —Å–ø–æ–∫–æ–π–Ω—ã–º –∏ –±–µ–∑–º—è—Ç–µ–∂–Ω—ã–º."' },
    { word: 'Vibrant', trans: '/Ààva…™.br…ônt/', rus: '[–≤–∞–π-–±—Ä—ç–Ω—Ç]', meaning: '–Ø—Ä–∫–∏–π, –∂–∏–≤–æ–π', example: '"The city is vibrant with energy."', exampleRu: '"–ì–æ—Ä–æ–¥ —è—Ä–∫–∏–π –∏ –ø–æ–ª–æ–Ω —ç–Ω–µ—Ä–≥–∏–∏."' },
    { word: 'Whimsical', trans: '/Ààw…™m.z…™.k…ôl/', rus: '[–≤–∏–º-–∑–∏-–∫–ª]', meaning: '–ü—Ä–∏—á—É–¥–ª–∏–≤—ã–π', example: '"She has a whimsical sense of humor."', exampleRu: '"–£ –Ω–µ—ë –ø—Ä–∏—á—É–¥–ª–∏–≤–æ–µ —á—É–≤—Å—Ç–≤–æ —é–º–æ—Ä–∞."' },
    { word: 'Epiphany', trans: '/…™Ààp…™f.…ô.ni/', rus: '[–∏-–ø–∏-—Ñ—ç-–Ω–∏]', meaning: '–û–∑–∞—Ä–µ–Ω–∏–µ', example: '"I had an epiphany about my career."', exampleRu: '"–£ –º–µ–Ω—è –±—ã–ª–æ –æ–∑–∞—Ä–µ–Ω–∏–µ –Ω–∞—Å—á—ë—Ç –º–æ–µ–π –∫–∞—Ä—å–µ—Ä—ã."' },
    { word: 'Nostalgia', trans: '/n…ísÀàt√¶l.d í…ô/', rus: '[–Ω–æ—Å-—Ç—ç–ª-–¥–∂—ç]', meaning: '–ù–æ—Å—Ç–∞–ª—å–≥–∏—è', example: '"Photos of my childhood fill me with nostalgia."', exampleRu: '"–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –º–æ–µ–≥–æ –¥–µ—Ç—Å—Ç–≤–∞ –Ω–∞–ø–æ–ª–Ω—è—é—Ç –º–µ–Ω—è –Ω–æ—Å—Ç–∞–ª—å–≥–∏–µ–π."' },
    
    // ADVANCED (15 —Å–ª–æ–≤)
    { word: 'Sonder', trans: '/Ààs…ín.d…ôr/', rus: '[—Å–æ–Ω-–¥—ç—Ä]', meaning: '–û—Å–æ–∑–Ω–∞–Ω–∏–µ, —á—Ç–æ –∫–∞–∂–¥—ã–π –∏–º–µ–µ—Ç —Å–ª–æ–∂–Ω—É—é –∂–∏–∑–Ω—å', example: '"Walking through the crowd, I was struck by sonder."', exampleRu: '"–ò–¥—è —Å–∫–≤–æ–∑—å —Ç–æ–ª–ø—É, —è –±—ã–ª –ø–æ—Ä–∞–∂—ë–Ω –æ—Å–æ–∑–Ω–∞–Ω–∏–µ–º, —á—Ç–æ —É –∫–∞–∂–¥–æ–≥–æ —Å–≤–æ—è —Å–ª–æ–∂–Ω–∞—è –∂–∏–∑–Ω—å."' },
    { word: 'Petrichor', trans: '/Ààpet.r…™.k…îÀêr/', rus: '[–ø—ç-—Ç—Ä–∏-–∫–æ—Ä]', meaning: '–ó–∞–ø–∞—Ö –¥–æ–∂–¥—è –ø–æ –∑–µ–º–ª–µ', example: '"The petrichor after the storm was intoxicating."', exampleRu: '"–ó–∞–ø–∞—Ö –¥–æ–∂–¥—è –ø–æ—Å–ª–µ –≥—Ä–æ–∑—ã –±—ã–ª –æ–ø—å—è–Ω—è—é—â–∏–º."' },
    { word: 'Ineffable', trans: '/…™nÀàef.…ô.b…ôl/', rus: '[–∏–Ω-—ç-—Ñ—ç-–±–ª]', meaning: '–ù–µ–≤—ã—Ä–∞–∑–∏–º—ã–π', example: '"The beauty of the sunset was ineffable."', exampleRu: '"–ö—Ä–∞—Å–æ—Ç–∞ –∑–∞–∫–∞—Ç–∞ –±—ã–ª–∞ –Ω–µ–≤—ã—Ä–∞–∑–∏–º–æ–π."' },
    { word: 'Hiraeth', trans: '/Ààh…™ra…™Œ∏/', rus: '[—Ö–∏-—Ä–∞–π—Å]', meaning: '–¢–æ—Å–∫–∞ –ø–æ –¥–æ–º—É, –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ—Ç', example: '"There is a word for it: hiraeth, a longing for home."', exampleRu: '"–ï—Å—Ç—å —Å–ª–æ–≤–æ –¥–ª—è —ç—Ç–æ–≥–æ: —Ö–∏—Ä–∞—ç—Ç, —Ç–æ—Å–∫–∞ –ø–æ –¥–æ–º—É."' },
    { word: 'Saudade', trans: '/sauÀàd…ëÀê.d…ô/', rus: '[—Å–∞—É-–¥–∞-–¥—ç]', meaning: '–ì—Ä—É—Å—Ç–Ω–∞—è —Ç–æ—Å–∫–∞ –ø–æ —á–µ–º—É-—Ç–æ –ø–æ—Ç–µ—Ä—è–Ω–Ω–æ–º—É', example: '"Saudade is a deep emotional state of nostalgic longing."', exampleRu: '"–°–∞—É–¥√°–¥–µ ‚Äî —ç—Ç–æ –≥–ª—É–±–æ–∫–æ–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–æ—Å—Ç–∞–ª—å–≥–∏—á–µ—Å–∫–æ–π —Ç–æ—Å–∫–∏."' },
    { word: 'Komorebi', trans: '/ko.mo.…æe.bi/', rus: '[–∫–æ-–º–æ-—Ä—ç-–±–∏]', meaning: '–°–≤–µ—Ç, –ø—Ä–æ–±–∏–≤–∞—é—â–∏–π—Å—è —Å–∫–≤–æ–∑—å –ª–∏—Å—Ç—å—è', example: '"The komorebi in the forest was magical."', exampleRu: '"–°–≤–µ—Ç, –ø—Ä–æ–±–∏–≤–∞—é—â–∏–π—Å—è —Å–∫–≤–æ–∑—å –ª–∏—Å—Ç—å—è –≤ –ª–µ—Å—É, –±—ã–ª –≤–æ–ª—à–µ–±–Ω—ã–º."' },
    { word: 'Mudita', trans: '/muÀêÀàdiÀê.t…ô/', rus: '[–º—É-–¥–∏-—Ç—ç]', meaning: '–°—á–∞—Å—Ç—å–µ –æ—Ç —á—É–∂–æ–≥–æ —Å—á–∞—Å—Ç—å—è', example: '"Mudita is finding joy in the happiness of others."', exampleRu: '"–ú—É–¥–∏—Ç–∞ ‚Äî —ç—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç—å —Ä–∞–¥–æ—Å—Ç—å –≤ —Å—á–∞—Å—Ç—å–µ –¥—Ä—É–≥–∏—Ö."' },
    { word: 'Gigil', trans: '/Àà…°iÀê.…°…™l/', rus: '[–≥–∏-–≥–∏–ª]', meaning: '–ù–µ–ø—Ä–µ–æ–¥–æ–ª–∏–º–æ–µ –∂–µ–ª–∞–Ω–∏–µ —á—Ç–æ-—Ç–æ —Å–∂–∞—Ç—å (–æ—Ç —É–º–∏–ª–µ–Ω–∏—è)', example: '"The puppy was so cute I felt gigil."', exampleRu: '"–©–µ–Ω–æ–∫ –±—ã–ª —Ç–∞–∫–∏–º –º–∏–ª—ã–º, —á—Ç–æ –º–Ω–µ –∑–∞—Ö–æ—Ç–µ–ª–æ—Å—å –µ–≥–æ —Å–∂–∞—Ç—å."' },
    { word: 'Forelsket', trans: '/f…îÀêÀàr…õlsk…ôt/', rus: '[—Ñ–æ-—Ä—ç–ª-—Å–∫—ç—Ç]', meaning: '–ü—Ä–µ–¥–≤–∫—É—à–µ–Ω–∏–µ –ª—é–±–≤–∏', example: '"Forelsket describes the euphoria of beginning to fall in love."', exampleRu: '"–§–æ—Ä–µ–ª—å—Å–∫–µ—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç —ç–π—Ñ–æ—Ä–∏—é –Ω–∞—á–∞–ª–∞ –≤–ª—é–±–ª—ë–Ω–Ω–æ—Å—Ç–∏."' },
    { word: 'D√©paysement', trans: '/de.pe…™z.m…ëÃÉ/', rus: '[–¥—ç-–ø—ç–π–∑-–º–æ–Ω]', meaning: '–ß—É–≤—Å—Ç–≤–æ –¥–µ–∑–æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏ –≤ —á—É–∂–æ–π —Å—Ç—Ä–∞–Ω–µ', example: '"The d√©paysement of arriving in Tokyo was overwhelming."', exampleRu: '"–ß—É–≤—Å—Ç–≤–æ –¥–µ–∑–æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏ –ø—Ä–∏ –ø—Ä–∏–±—ã—Ç–∏–∏ –≤ –¢–æ–∫–∏–æ –±—ã–ª–æ –æ—à–µ–ª–æ–º–ª—è—é—â–∏–º."' },
    { word: 'Limerence', trans: '/Ààl…™m.…ôr.…ôns/', rus: '[–ª–∏-–º—ç-—Ä—ç–Ω—Å]', meaning: '–°–æ—Å—Ç–æ—è–Ω–∏–µ –≤–ª—é–±–ª—ë–Ω–Ω–æ—Å—Ç–∏', example: '"Limerence is an involuntary interpersonal state."', exampleRu: '"–õ–∏–º–µ—Ä–µ–Ω—Å ‚Äî —ç—Ç–æ –Ω–µ–ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ –º–µ–∂–ª–∏—á–Ω–æ—Å—Ç–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ."' },
    { word: 'Vellichor', trans: '/Ààv…õl.…™.k…îÀêr/', rus: '[–≤—ç-–ª–∏-–∫–æ—Ä]', meaning: '–¢–æ—Å–∫–∞ –ø–æ —Å—Ç–∞—Ä—ã–º –∫–Ω–∏–≥–∞–º', example: '"The vellichor of the used bookstore was comforting."', exampleRu: '"–¢–æ—Å–∫–∞ –ø–æ —Å—Ç–∞—Ä—ã–º –∫–Ω–∏–≥–∞–º –≤ –±—É–∫–∏–Ω–∏—Å—Ç–∏—á–µ—Å–∫–æ–º –º–∞–≥–∞–∑–∏–Ω–µ –±—ã–ª–∞ —É—Ç–µ—à–∏—Ç–µ–ª—å–Ω–æ–π."' },
    { word: 'Chrysalism', trans: '/Ààkr…™s.…ô.l…™z.…ôm/', rus: '[–∫—Ä–∏-–∑–∞-–ª–∏-–∑—ç–º]', meaning: '–£—é—Ç –≤ –ø–æ–º–µ—â–µ–Ω–∏–∏ –≤–æ –≤—Ä–µ–º—è –¥–æ–∂–¥—è', example: '"I love the chrysalism of reading by the window on a rainy day."', exampleRu: '"–Ø –ª—é–±–ª—é —É—é—Ç —á—Ç–µ–Ω–∏—è —É –æ–∫–Ω–∞ –≤ –¥–æ–∂–¥–ª–∏–≤—ã–π –¥–µ–Ω—å."' },
    { word: 'Monachopsis', trans: '/Àåm…ín.…ôÀàk…íp.s…™s/', rus: '[–º–æ-–Ω–∞-–∫–æ–ø-—Å–∏—Å]', meaning: '–¢–æ–Ω–∫–æ–µ —á—É–≤—Å—Ç–≤–æ –Ω–µ—É–º–µ—Å—Ç–Ω–æ—Å—Ç–∏', example: '"Monachopsis is the subtle but persistent feeling of being out of place."', exampleRu: '"–ú–æ–Ω–∞—Ö–æ–ø—Å–∏—Å ‚Äî —ç—Ç–æ —Ç–æ–Ω–∫–æ–µ, –Ω–æ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —á—É–≤—Å—Ç–≤–æ –Ω–µ—É–º–µ—Å—Ç–Ω–æ—Å—Ç–∏."' },
    { word: 'Ethereal', trans: '/…™ÀàŒ∏…™…ô.ri.…ôl/', rus: '[–∏-—Ñ–∏—ç-—Ä–∏-—ç–ª]', meaning: '–ù–µ–±–µ—Å–Ω—ã–π, –≤–æ–∑–¥—É—à–Ω—ã–π', example: '"The ethereal beauty of the aurora left us speechless."', exampleRu: '"–ù–µ–±–µ—Å–Ω–∞—è –∫—Ä–∞—Å–æ—Ç–∞ —Å–µ–≤–µ—Ä–Ω–æ–≥–æ —Å–∏—è–Ω–∏—è –æ—Å—Ç–∞–≤–∏–ª–∞ –Ω–∞—Å –±–µ–∑–º–æ–ª–≤–Ω—ã–º–∏."' }
];
// Cloud Storage functions
function saveProgress() {
    const progress = {
        wordsLearned: currentCard,
        totalWords: words.length,
        xp: currentCard * 10,
        lastVisit: new Date().toISOString()
    };
    tg.CloudStorage.setItem('linguaparrot_progress', JSON.stringify(progress));
}

function loadProgress() {
    tg.CloudStorage.getItem('linguaparrot_progress', (error, value) => {
        if (!error && value) {
            const progress = JSON.parse(value);
            currentCard = progress.wordsLearned || 0;
            updateStats();
        }
    });
}

function updateStats() {
    document.getElementById('wordsCount').textContent = currentCard;
    document.getElementById('dailyProgress').textContent = Math.min(currentCard, 15);
    document.getElementById('progressBar').style.width = Math.min((currentCard / 15 * 100), 100) + '%';
}

            
            
            
            

        
        
        let currentCard = 0;
        let showRusTrans = false;
        let lessonStartTime = null;
        let isFlipped = false;
        
        // Haptic feedback helper
        function haptic() {
            if (tg.HapticFeedback) {
                tg.HapticFeedback.impactOccurred('light');
            }
        }
        
        function setMode(btn, mode) {
            haptic();
            document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
        }
        
        function openChat() {
            haptic();
            // Send data to bot
            tg.sendData(JSON.stringify({ action: 'open_chat' }));
            tg.showAlert('AI-—Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω! ü¶ú');
        }
        
        function startLesson() {
            haptic();
            currentCard = 0;
            isFlipped = false;
            lessonStartTime = Date.now();
            updateCard();
            document.getElementById('mainScreen').classList.remove('active');
            document.getElementById('lessonScreen').classList.add('active');
            
            // Set TG main button
            tg.MainButton.setText('–ü—Ä–æ–≤–µ—Ä–∏—Ç—å ‚úÖ');
            tg.MainButton.hide(); 
      saveProgress();


        }
        
        function updateCard() {
            const w = words[currentCard];
            document.getElementById('cardWord').textContent = w.word;
            document.getElementById('cardTrans').textContent = w.trans;
            document.getElementById('cardRusTrans').textContent = w.rus;
            document.getElementById('cardMeaning').textContent = w.meaning;
            document.getElementById('detailExample').textContent = w.example;
            document.getElementById('detailTranslation').textContent = w.exampleRu;
            
            document.getElementById('flashcard').classList.remove('flipped');
            document.getElementById('detailCard').classList.remove('show');
            
            // Update dots
            const dots = document.querySelectorAll('.dot');
            dots.forEach((d, i) => {
                d.classList.remove('active', 'completed');
                if (i < currentCard) d.classList.add('completed');
                if (i === currentCard) d.classList.add('active');
            });
            
            // Update main button
            tg.MainButton.setText(currentCard < words.length - 1 ? '–°–ª–µ–¥—É—é—â–µ–µ —Å–ª–æ–≤–æ ‚Üí' : '–ó–∞–≤–µ—Ä—à–∏—Ç—å —É—Ä–æ–∫ üéâ');
        }
        
        function flipCard() {
            if (isFlipped) return;
            haptic();
            isFlipped = true;
            document.getElementById('flashcard').classList.add('flipped');
            setTimeout(() => {
                document.getElementById('detailCard').classList.add('show');
                tg.MainButton.show();
            }, 300);
        }
        
        function toggleTrans() {
            haptic();
            showRusTrans = !showRusTrans;
            document.getElementById('transToggle').classList.toggle('active');
            document.getElementById('cardRusTrans').style.display = showRusTrans ? 'block' : 'none';
        }
        
        function closeLesson() {
            haptic();
            if (confirm('–ü—Ä–µ—Ä–≤–∞—Ç—å —É—Ä–æ–∫? –ü—Ä–æ–≥—Ä–µ—Å—Å –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω.')) {
                document.getElementById('lessonScreen').classList.remove('active');
                document.getElementById('mainScreen').classList.add('active');
                tg.MainButton.hide();
            }
        }
        
        function finishLesson() {
            haptic();
            const timeSpent = Math.floor((Date.now() - lessonStartTime) / 1000);
            const mins = Math.floor(timeSpent / 60);
            const secs = timeSpent % 60;
            
            document.getElementById('timeValue').textContent = `${mins}:${secs.toString().padStart(2, '0')}`;
            document.getElementById('resultScreen').classList.remove('active');
            document.getElementById('mainScreen').classList.add('active');
            
            // Update progress
            const current = parseInt(document.getElementById('dailyProgress').textContent);
            document.getElementById('dailyProgress').textContent = current + 5;
            document.getElementById('progressBar').style.width = Math.min(((current + 5) / 15 * 100), 100) + '%';
            
            // Send result to bot
            tg.sendData(JSON.stringify({
                action: 'lesson_complete',
                words: 5,
                time: timeSpent,
                xp: 50
            }));
        }
        
        // TG Main Button handler
        tg.MainButton.onClick(() => {
            haptic();
            if (!isFlipped) {
                flipCard();
                return;
            }
            
            currentCard++;
            if (currentCard >= words.length) {
                // Show results
                document.getElementById('lessonScreen').classList.remove('active');
                document.getElementById('resultScreen').classList.add('active');
                tg.MainButton.hide();
            } else {
                isFlipped = false;
                updateCard();
                tg.MainButton.hide();
            }
        });
        
        // Init
        document.getElementById('progressBar').style.width = '0%';
    </script>
</body>
</html>
